import React, { useState, useEffect } from "react";
import useMouse from "./useMouse";
const MousePath = () => {
  const { x, y } = useMouse();
  const [divC, setDivC] = useState({ divX: null, divY: null });

  useEffect(() => {
    const di = document.getElementById("mydiv");

    if (di) {
      const { x: divX, y: divY } = di.getBoundingClientRect();
      setDivC({ divX, divY });
    }
  }, []);

  return (
    <div id="mydiv">
      <svg width="100%" height="100%">
        <defs>
          <clipPath id="mask">
            <circle
              id="mask-circle"
              cx={x - divC.divX}
              cy={y - divC.divY}
              r="20"
              fill="#ffffff"
            />
          </clipPath>
        </defs>
        <rect width="100%" height="50%" fill="black" />
        <g clip-path="url(#mask)">
          <g>
            <g>
              <rect width="100%" height="100%" fill="pink" />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                fill="#224087"
                d="M36.858,2.123c-0.192,0.125-0.252,0.174-0.32,0.207
			c-3.892,1.845-7.277,4.408-10.369,7.375c-4.668,4.479-8.326,9.698-11.236,15.456c-0.592,1.172-1.122,2.375-1.681,3.563
			c-0.043,0.091-0.092,0.179-0.217,0.249c0.06-0.808,0.134-1.614,0.178-2.423c0.148-2.709-0.048-5.379-0.934-7.966
			c-0.311-0.907-0.732-1.759-1.29-2.541c-1.188-1.67-2.798-2.678-4.809-3.054c-0.208-0.039-0.415-0.081-0.686-0.133
			c0.109-0.117,0.176-0.214,0.264-0.28c5.72-4.308,11.897-7.724,18.84-9.638c3.232-0.891,6.522-1.285,9.874-1.076
			C35.224,1.908,35.97,2.023,36.858,2.123z"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                fill="#224087"
                d="M4.87,19.976c0.297,0.163,0.473,0.267,0.655,0.357
			c1.174,0.585,2.345,1.175,3.527,1.742c0.324,0.155,0.502,0.337,0.469,0.723c-0.034,0.396-0.007,0.799-0.007,1.253
			c-0.159-0.033-0.284-0.034-0.383-0.084c-1.984-0.998-3.963-2.006-5.949-3c-0.265-0.132-0.369-0.306-0.353-0.597
			c0.02-0.38,0.005-0.761,0.005-1.208c2.187-1.108,4.379-2.22,6.685-3.389c0,0.646,0.031,1.17-0.02,1.686
			c-0.015,0.15-0.244,0.321-0.413,0.407c-1.093,0.557-2.196,1.092-3.295,1.637C5.526,19.633,5.267,19.772,4.87,19.976z"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                fill="#224087"
                d="M26.378,19.964c-0.467-0.237-0.784-0.402-1.104-0.562
			c-1.005-0.498-2.003-1.013-3.022-1.48c-0.412-0.189-0.57-0.452-0.545-0.886c0.022-0.375,0.005-0.752,0.005-1.264
			c2.292,1.16,4.47,2.263,6.626,3.354c0.022,0.106,0.047,0.167,0.046,0.228c-0.007,0.465,0.133,1.02-0.073,1.367
			c-0.205,0.345-0.753,0.497-1.164,0.706c-1.565,0.8-3.135,1.589-4.705,2.379c-0.2,0.102-0.408,0.188-0.72,0.331
			c0-0.628-0.033-1.151,0.021-1.667c0.016-0.147,0.261-0.309,0.435-0.396c1.076-0.547,2.162-1.074,3.242-1.61
			C25.702,20.326,25.976,20.175,26.378,19.964z"
              />
            </g>
            <path
              fill="#224087"
              d="M38.979,18.348l2.842,4.751h-0.58l-2.824-4.726h-3.341v4.726h-0.509v-10.89h3.956
		c1.914,0,3.31,1.295,3.31,3.092C41.832,16.934,40.654,18.16,38.979,18.348 M35.076,17.883h3.427c1.653,0,2.812-1.089,2.812-2.586
		c0-1.505-1.171-2.598-2.812-2.598h-3.427V17.883z"
            />
            <path
              fill="#224087"
              d="M44.269,19.085v-6.876h0.513v6.849c0,2.15,1.482,3.68,3.563,3.68c2.077,0,3.559-1.529,3.559-3.68v-6.849
		h0.513v6.876c0,2.419-1.719,4.153-4.072,4.153C45.987,23.239,44.269,21.504,44.269,19.085"
            />
            <polygon
              fill="#224087"
              points="63.86,12.209 63.86,23.099 63.421,23.099 56.12,13.115 56.12,23.099 55.618,23.099 55.618,12.209 
		56.081,12.209 63.358,22.173 63.358,12.209 	"
            />
            <path
              fill="#224087"
              d="M76.62,17.645c0,3.179-2.334,5.454-5.621,5.454h-4.408v-10.89h4.408
		C74.296,12.209,76.62,14.463,76.62,17.645 M73.544,17.645c0-1.615-1.074-2.688-2.688-2.688h-1.252v5.396h1.252
		C72.47,20.352,73.544,19.251,73.544,17.645"
            />
            <polygon
              fill="#224087"
              points="85.282,20.498 85.282,23.099 78.183,23.099 78.183,12.209 85.151,12.209 85.151,14.802 
		81.17,14.802 81.17,16.406 84.747,16.406 84.747,18.867 81.17,18.867 81.17,20.498 	"
            />
            <polygon
              fill="#224087"
              points="97.174,12.209 93.005,23.099 90.211,23.099 85.953,12.209 89.376,12.209 91.6,18.978 
		93.769,12.209 	"
            />
          </g>
        </g>
      </svg>

      <div style={{ width: "100%", height: "100%" }}>
        <pre>{JSON.stringify({ x, y })}</pre>
      </div>
    </div>
  );
};

export default MousePath;
